var H5P=H5P||{},H5P=H5P||{};H5P.JoubelHelpTextDialog=function(e){function r(r,t){var s=e("<div>",{"class":"joubel-help-text-dialog-box"}),o=(e("<div>",{"class":"joubel-help-text-dialog-background"}).appendTo(s),e("<div>",{"class":"joubel-help-text-dialog-container"}).appendTo(s));return e("<div>",{"class":"joubel-help-text-header",html:r}).appendTo(o),e("<div>",{"class":"joubel-help-text-body",html:t}).appendTo(o),e("<div>",{"class":"joubel-help-text-remove",tabindex:0}).click(function(){s.remove()}).keydown(function(r){var t=r.which;32===t&&(e(this).click(),r.preventDefault())}).appendTo(o),s}return r}(H5P.jQuery);var H5P=H5P||{},H5P=H5P||{};H5P.JoubelMessageDialog=function(e){function r(r,t){var s,o=function(){n.remove(),clearTimeout(s),r.off("click.messageDialog")},n=e("<div/>",{"class":"joubel-message-dialog",text:t}).appendTo(r);return s=setTimeout(o,3e3),r.on("click.messageDialog",o),n}return r}(H5P.jQuery);var H5P=H5P||{},H5P=H5P||{};H5P.JoubelProgressCircle=function(e){function r(r,t,s,o){t=t||"#096bcb",s=s||"#f0f0f0",o=o||"#ffffff";var n=this.hexToRgb(t);try{if(r=Number(r),""===r)throw"is empty";if(isNaN(r))throw"is not a number"}catch(i){console.log("Progress circle input"+i),r="err"}r>100&&(r=100);var a=r/100,u="rgb("+parseInt(this.rgbFromAlpha(n.r,a),10)+","+parseInt(this.rgbFromAlpha(n.g,a),10)+","+parseInt(this.rgbFromAlpha(n.b,a),10)+")",c=e("<div/>",{"class":"joubel-progress-circle-wrapper"}),l=e("<div/>",{"class":"joubel-progress-circle-active-border"}).appendTo(c),p=e("<div/>",{"class":"joubel-progress-circle-circle"}).appendTo(l);e("<span/>",{text:r,"class":"joubel-progress-circle-percentage"}).appendTo(p);var d=3.6*r;return 180>=d?l.css("background-image","linear-gradient("+(90+d)+"deg, transparent 50%, "+s+" 50%),linear-gradient(90deg, "+s+" 50%, transparent 50%)").css("border","2px solid"+o).css("background-color",u):l.css("background-image","linear-gradient("+(d-90)+"deg, transparent 50%, "+u+" 50%),linear-gradient(90deg, "+s+" 50%, transparent 50%)").css("border","2px solid"+o).css("background-color",u),this.$activeBorder=l,this.$backgroundCircle=p,this.$wrapper=c,this.initResizeFunctionality(),c}return r.prototype.initResizeFunctionality=function(){var r=this;e(window).resize(function(){setTimeout(function(){r.resize()})}),setTimeout(function(){r.resize()},0)},r.prototype.resize=function(){var e=this.$wrapper.parent();if(void 0!==e&&e){var r=parseInt(e.css("font-size"),10),t=3.75,s=parseInt(r/4.5,10)%2===0?parseInt(r/4.5,10):parseInt(r/4.5,10)+1,o=s/2,n=r*t,i=r*t;this.$activeBorder.css({width:n,height:i}),this.$backgroundCircle.css({width:n-s,height:i-s,top:o,left:o})}},r.prototype.hexToRgb=function(e){var r=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return r?{r:parseInt(r[1],16),g:parseInt(r[2],16),b:parseInt(r[3],16)}:null},r.prototype.rgbFromAlpha=function(e,r){return r*e+255*(1-r)},r}(H5P.jQuery);var H5P=H5P||{},H5P=H5P||{};H5P.JoubelProgressbar=function(e){function r(r){return r=e.extend({steps:10},r),this.currentStep=0,this.steps=r.steps,this.$progressbar=e("<div>",{"class":"h5p-progressbar"}),this.$background=e("<div>",{"class":"h5p-progressbar-background"}).appendTo(this.$progressbar),this}return r.prototype.attach=function(e){e.append(this.$progressbar)},r.prototype.next=function(){this.currentStep+1>=this.steps||(this.currentStep++,this.$background.css({width:this.currentStep/this.steps*100+"%"}))},r}(H5P.jQuery);var H5P=H5P||{},H5P=H5P||{};H5P.JoubelScoreBar=function(e){function r(r){var t=this;t.maxScore=r,t.score=0;var s=function(){return t.score===t.maxScore};t.appendTo=function(e){t.$scoreBar.appendTo(e)};var o=function(){t.$scoreBar=e("<div>",{"class":"h5p-joubelui-score-bar"}),t.$progressWrapper=e("<div>",{"class":"h5p-joubelui-score-bar-progress-wrapper"}).appendTo(t.$scoreBar),t.$progress=e("<div>",{"class":"h5p-joubelui-score-bar-progress"}).appendTo(t.$progressWrapper),t.$endWrapper=e("<div>",{"class":"h5p-joubelui-score-bar-end"}).appendTo(t.$scoreBar),t.$defaultStar=e("<span>",{"class":"h5p-joubelui-score-bar-default-star"}).appendTo(t.$endWrapper),t.$fullScoreStar=e("<span>",{"class":"h5p-joubelui-score-bar-full-score-star"}).appendTo(t.$endWrapper)};t.setScore=function(e){t.score=e,t.updateVisuals()},t.incrementScore=function(e){e=e||1,t.score+=e,t.updateVisuals()},t.setMaxScore=function(e){t.maxScore=e},t.updateVisuals=function(){var e=s();t.$progress.css({width:0}),setTimeout(function(){t.$progress.addClass("animate"),t.$progress.css({width:(e?"102":100*t.score/(t.maxScore-1))+"%"}),H5P.Transition.sequence([{$element:t.$progress,timeout:600,end:function(){t.$progress.removeClass("animate"),t.$scoreBar.toggleClass("full-score",e),e&&t.$fullScoreStar.addClass("animate-background")},"break":!e},{$element:t.$fullScoreStar,timeout:400,end:function(){t.$fullScoreStar.addClass("animate-star")}},{$element:t.$fullScoreStar,end:function(){t.$fullScoreStar.addClass("animate-star-blink")}}])},300)},o()}return r}(H5P.jQuery);var H5P=H5P||{},H5P=H5P||{};H5P.SimpleRoundedButton=function(e){function r(r){var t=e("<div>",{"class":"joubel-simple-rounded-button",title:r,role:"button",tabindex:"0"}).keydown(function(r){var t=r.which;32===t&&(e(this).click(),r.preventDefault()),e(this).focus()});return e("<span>",{"class":"joubel-simple-rounded-button-text",html:r}).appendTo(t),t}return r}(H5P.jQuery);var H5P=H5P||{},H5P=H5P||{};H5P.JoubelSlider=function(e){function r(r){H5P.EventDispatcher.call(this);this.$slider=e("<div>",{"class":"h5p-slider"}),this.$slides=[],this.currentIndex=0,this.numSlides=0}return r.prototype=Object.create(H5P.EventDispatcher.prototype),r.prototype.constructor=r,r.prototype.addSlide=function(e){e.addClass("h5p-slide").css({left:100*this.numSlides+"%"}),this.$slider.append(e),this.$slides.push(e),this.numSlides++,1===this.numSlides&&e.addClass("current")},r.prototype.attach=function(e){e.append(this.$slider)},r.prototype.move=function(e){var r=this;0===e&&r.trigger("first-slide"),e+1===r.numSlides&&r.trigger("last-slide"),r.trigger("move");var t=r.$slides[this.currentIndex];H5P.Transition.onTransitionEnd(this.$slider,function(){t.removeClass("current"),r.trigger("moved")}),this.$slides[e].addClass("current");var s="translateX("+100*-e+"%)";this.$slider.css({"-webkit-transform":s,"-moz-transform":s,"-ms-transform":s,transform:s}),this.currentIndex=e},r.prototype.remove=function(){this.$slider.remove()},r.prototype.next=function(){this.currentIndex+1>=this.numSlides||this.move(this.currentIndex+1)},r.prototype.previous=function(){this.move(this.currentIndex-1)},r.prototype.first=function(){this.move(0)},r.prototype.last=function(){this.move(this.numSlides-1)},r}(H5P.jQuery);var H5P=H5P||{},H5P=H5P||{};H5P.JoubelSpeechBubble=function(e){function r(r,n,i){i=i||s,this.remove=function(){H5P.$body.off("click.speechBubble"),o&&H5P.$body.css("cursor",""),void 0!==t&&(t.removeClass("show"),setTimeout(function(){t.remove(),t=void 0},500))},this.isHidden=function(){return void 0===t},void 0!==t&&this.remove();var a=r.parents(".h5p-container");t=e('<div class="joubel-speech-bubble"><div class="joubel-speech-bubble-inner"><div class="joubel-speech-bubble-text">'+n+"</div></div></div>").appendTo(a),setTimeout(function(){t.addClass("show")},0);var u=.9*a.width();u=u>i?i:u;var c=r.offset().left-u+r.outerWidth()-a.offset().left-r.width()/2+20;0>c&&(u+=c-3,c=3);var l=16;return t.css({width:u+"px",top:r.offset().top+r.outerHeight()-a.offset().top+"px",left:c+"px",fontSize:l+"px"}),H5P.$body.on("click.speechBubble",this.remove),o&&H5P.$body.css("cursor","pointer"),this}var t,s=400,o=navigator.userAgent.match(/iPod|iPhone|iPad/g)?!0:!1;return r}(H5P.jQuery);var H5P=H5P||{},H5P=H5P||{};H5P.JoubelThrobber=function(e){function r(){var r=e("<div/>",{"class":"h5p-throbber"});return r}return r}(H5P.jQuery);var H5P=H5P||{},H5P=H5P||{};H5P.JoubelTip=function(e){function r(r,t){var s;t=e.extend({showSpeechBubble:!0},t);var o=e("<div/>",{"class":"joubel-tip-container"+(t.showSpeechBubble?"":" be-quiet"),title:r,click:function(){return void 0===s||s.isHidden()?t.showSpeechBubble&&(s=H5P.JoubelSpeechBubble(o,r)):(s.remove(),s=void 0),!1}}).append(e("<div/>",{"class":"joubel-tip-icon"}));return o}return r}(H5P.jQuery);var H5P=H5P||{},H5P=H5P||{};H5P.JoubelUI=function(e){function r(){}return r.createTip=function(e,r){return new H5P.JoubelTip(e,r)},r.createMessageDialog=function(e,r){return new H5P.JoubelMessageDialog(e,r)},r.createHelpTextDialog=function(e,r){return new H5P.JoubelHelpTextDialog(e,r)},r.createProgressCircle=function(e,r,t,s){return new H5P.JoubelProgressCircle(e,r,t,s)},r.createThrobber=function(){return new H5P.JoubelThrobber},r.createSimpleRoundedButton=function(e){return new H5P.SimpleRoundedButton(e)},r.createSlider=function(e,r){return new H5P.JoubelSlider(r)},r.createScoreBar=function(e){return new H5P.JoubelScoreBar(e)},r.createButton=function(r){var t="button";return r.href?t="a":r.type="button",r["class"]?r["class"]+=" h5p-joubelui-button":r["class"]="h5p-joubelui-button",e("<"+t+"/>",r)},r}(H5P.jQuery);